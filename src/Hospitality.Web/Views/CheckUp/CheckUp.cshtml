@using Hospitality.Common.DTO.CheckUp
@model Hospitality.Web.Models.PatientDataCheckUpViewModel

@{
    ViewData["Title"] = "Check Up";
}
<head>
    <link rel="stylesheet" href="~/css/CheckUp.css" asp-append-version="true" />
</head>
<body>
    @{
        Model.DoctorId = Guid.Parse(User.Claims.Where(x=>x.Type == "Id").First().Value);
    }
    <content>
        <div id="checkUpForm">
            <h3>Symptoms and recommendations </h3>
            <br>
            <div class="wrapper">
                @if (Model.IsInsured)
                {
                    <p class="insured">   Patient is Insured</p>
                }
                else
                {
                    <p class="notInsured">   Patient is not Insured</p>
                }

                <div>
                    @using (Html.BeginForm("Result", "Result", FormMethod.Post, new { target = "_blank" }))
                    {
                        <div style="display:none">
                            <input type="text" name="patientId" value=@Model.PatientId />
                        </div>
                        <input type="submit" id="resultInput" class="btn btn-primary btn-lg" value="Examination results"/>
                    }

                    @using (Html.BeginForm("Examination", "Examination", FormMethod.Post, new { target = "_blank" }))
                    {
                        <div style="display:none">
                            @Html.TextBoxFor(model=>model.PatientPesel)
                            @Html.TextBoxFor(model=>model.PatientId)
                        </div>
                        <br>

                        <input type="submit" id="orderInput" class="btn btn-primary btn-lg" value="Order an examination"/>
                    }

                </div>

            </div>



            @using (Html.BeginForm("NewCheckUp", "CheckUp", FormMethod.Post))
            {
                <div style="display:none">
                    @Html.TextBoxFor(model=>model.PatientPesel)
                    @Html.TextBoxFor(model=>model.PatientId)
                </div>

                <div class="checkUp">
                    @Html.TextAreaFor(x => x.Description, new { @class = "checkUp",  @rows = 14, @value = @Model.Description})
                </div>
                <br>
                <button id="finishButton" typeof="submit" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">  Finish visit  </button>
            }



        </div>
    </content>



</body>
